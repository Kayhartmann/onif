#!/usr/bin/with-contenv bashio
# ==============================================================================
# Service finish: dashboard
# Called when dashboard exits. s6 will restart automatically.
# ==============================================================================

EXIT_CODE="${1}"
SIGNAL="${2}"

bashio::log.warning "Dashboard exited with code ${EXIT_CODE} (signal: ${SIGNAL})"

if [ "${EXIT_CODE}" -eq 256 ]; then
    bashio::log.info "Dashboard stopped intentionally."
    exit 0
fi

bashio::log.info "Dashboard will be restarted by s6-supervise..."
exit 0
